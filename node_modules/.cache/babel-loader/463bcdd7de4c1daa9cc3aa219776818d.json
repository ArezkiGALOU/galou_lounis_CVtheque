{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/kiki/myapp/src/SubmitComponent.js\";\nimport react, { Component } from 'react';\nimport axios, { post } from 'axios';\nimport ReactFileReader from 'react-file-reader';\nimport './App.css';\n\nclass SubmitComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.convertfile = file => {\n      return new Promise((resolve, rejected) => {\n        const fileReader = new FileReader();\n        var ablob = new Blob(new ArrayBuffer(file));\n        fileReader.readAsDataURL(ablob);\n\n        fileReader.onload = () => {\n          resolve(fileReader.result);\n        };\n\n        fileReader.onerror = error => {\n          rejected(error);\n        };\n      });\n    };\n\n    this.state = {\n      file: null,\n      affich: \"\"\n    };\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.fileUpload = this.fileUpload.bind(this);\n  }\n\n  onFormSubmit(e) {\n    e.preventDefault();\n    this.fileUpload(this.state.file).then(response => {\n      console.log(response);\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      file: e.target.files[0]\n    });\n  }\n\n  fileUpload(file) {\n    const url = 'http://localhost:8080/api/CV/add';\n    const formData = new FormData();\n    formData.append('file', file);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    return post(url, formData, config);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.onFormSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"File Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \".pdf , .docx\",\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        position: \"left\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Envoyer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SubmitComponent;","map":{"version":3,"sources":["/home/kiki/myapp/src/SubmitComponent.js"],"names":["react","Component","axios","post","ReactFileReader","SubmitComponent","constructor","props","convertfile","file","Promise","resolve","rejected","fileReader","FileReader","ablob","Blob","ArrayBuffer","readAsDataURL","onload","result","onerror","error","state","affich","onFormSubmit","bind","onChange","fileUpload","e","preventDefault","then","response","console","log","setState","target","files","url","formData","FormData","append","config","headers","render"],"mappings":"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","sourcesContent":["import react, { Component } from 'react';\nimport axios, { post } from 'axios';\nimport ReactFileReader from 'react-file-reader';\nimport './App.css';\nclass SubmitComponent extends Component{\n\n  \n  constructor(props) {\n    super(props);\n    this.state ={\n      file:null,\n      affich: \"\"\n    }\n    this.onFormSubmit = this.onFormSubmit.bind(this)\n    this.onChange = this.onChange.bind(this)\n    this.fileUpload = this.fileUpload.bind(this)\n  }\n\n    convertfile = (file)=>{\n        return new Promise((resolve,rejected)=>{\n         const  fileReader= new FileReader();\n         var ablob= new Blob(new ArrayBuffer(file));\n          fileReader.readAsDataURL(ablob);\n          fileReader.onload= ()=>{\n            resolve(fileReader.result);\n          };\n          fileReader.onerror=(error)=>{\n           rejected(error);\n          };\n        });\n     }\n\n\n\n  onFormSubmit(e){\n    e.preventDefault()\n    this.fileUpload(this.state.file).then((response)=>{\n      console.log(response)   \n    })\n  }\n\n  onChange(e) {\n    this.setState({file:e.target.files[0]})\n  }\n\n  fileUpload(file){\n    const url = 'http://localhost:8080/api/CV/add';\n    const formData = new FormData();\n    formData.append('file',file)\n    const config = {\n        headers: {\n            'content-type': 'multipart/form-data'\n        }\n    }\n    return  post(url, formData,config)\n  }\n\n  render() {\n    return (\n      <div> \n\n       <div> \n      <form onSubmit={this.onFormSubmit}>\n        <h1>File Upload</h1>\n        <input type=\"file\" accept={\".pdf , .docx\" } onChange={this.onChange} />\n        <button type=\"submit\">Upload</button>\n      </form>\n      </div>\n       \n       <div position= 'left'>\n       <form>\n       <label>\n       <input type=\"text\" name=\"name\" />\n      </label>\n      <input type=\"submit\" value=\"Envoyer\" />\n      </form>\n       </div>\n      \n      </div>\n   )\n  }\n \n\n\n}\n\nexport default SubmitComponent;\n"]},"metadata":{},"sourceType":"module"}