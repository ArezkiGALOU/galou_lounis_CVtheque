{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/kiki/myapp/src/SubmitComponent.js\";\nimport react, { Component } from 'react';\nimport axios, { post } from 'axios';\nimport ReactFileReader from 'react-file-reader';\nimport Button from 'react-bootstrap/Button';\nimport './App.css';\n\nclass SubmitComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null,\n      valuesSearch: \"\"\n    };\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.fileUpload = this.fileUpload.bind(this);\n    this.submitsearch = this.submitsearch.bind(this);\n    this.handleChangeSearch = this.handleChangeSearch.bind(this);\n  }\n\n  submitsearch(e) {\n    axios.get(\"http://localhost:8080/api/CV/search?mots=\" + this.state.valuesSearch).then(res => {\n      if (res) {\n        console.log(res.data);\n      } else {\n        console.log(\"abouche\");\n      }\n    }, err => {\n      console.log(err);\n    });\n  }\n\n  handleChangeSearch(e) {\n    this.setState({\n      valuesSearch: e.target.value\n    });\n  }\n\n  onFormSubmit(e) {\n    e.preventDefault();\n    this.fileUpload(this.state.file).then(response => {\n      console.log(response);\n      alert(\"cv envoyer avec succes\");\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      file: e.target.files[0]\n    });\n  }\n\n  fileUpload(file) {\n    const url = 'http://localhost:8080/api/CV/add';\n    const formData = new FormData();\n    formData.append('file', file);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    return post(url, formData, config);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcom TO Our CVTh\\xE8que\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"monbloc\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.onFormSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Upload Your CV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \".pdf , .docx\",\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"dark\",\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"monbloc2\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.submitsearch,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Search CV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: this.state.valuesSearch,\n              onChange: handleChangeSearch,\n              name: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"dark\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SubmitComponent;","map":{"version":3,"sources":["/home/kiki/myapp/src/SubmitComponent.js"],"names":["react","Component","axios","post","ReactFileReader","Button","SubmitComponent","constructor","props","state","file","valuesSearch","onFormSubmit","bind","onChange","fileUpload","submitsearch","handleChangeSearch","e","get","then","res","console","log","data","err","setState","target","value","preventDefault","response","alert","files","url","formData","FormData","append","config","headers","render"],"mappings":"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","sourcesContent":["import react, { Component } from 'react';\nimport axios, { post } from 'axios';\nimport ReactFileReader from 'react-file-reader';\nimport Button from 'react-bootstrap/Button';\nimport './App.css';\nclass SubmitComponent extends Component{\n\n  \n  constructor(props) {\n    super(props);\n    this.state ={\n      file:null,\n      valuesSearch :\"\"\n    }\n    this.onFormSubmit = this.onFormSubmit.bind(this)\n    this.onChange = this.onChange.bind(this)\n    this.fileUpload = this.fileUpload.bind(this)\n    this.submitsearch=this.submitsearch.bind(this);\n    this.handleChangeSearch=this.handleChangeSearch.bind(this);\n  }\n\n  submitsearch(e){\n    \n    axios.get(\"http://localhost:8080/api/CV/search?mots=\"+this.state.valuesSearch).then((res)=>{\n      if(res){\n        console.log(res.data);\n      }else{\n        console.log(\"abouche\")\n      }\n    },err=>{\n      console.log(err)\n    });\n  }\n\n  handleChangeSearch(e){\n    this.setState({valuesSearch:e.target.value});\n  }\n\n  onFormSubmit(e){\n    e.preventDefault()\n    this.fileUpload(this.state.file).then((response)=>{\n      console.log(response) \n      alert(\"cv envoyer avec succes\");\n      \n    })\n  }\n\n  onChange(e) {\n    this.setState({file:e.target.files[0]})\n  }\n\n  fileUpload(file){\n    const url = 'http://localhost:8080/api/CV/add';\n    const formData = new FormData();\n    formData.append('file',file)\n    const config = {\n        headers: {\n            'content-type': 'multipart/form-data'\n        }\n    }\n    return  post(url, formData,config)\n  }\n\n  render() {\n    return (\n      <div> \n       <h1>Welcom TO Our CVTh√®que</h1>\n       <div className=\"monbloc\"> \n      <form onSubmit={this.onFormSubmit}>\n        <h1>Upload Your CV</h1>\n        <input type=\"file\" accept={\".pdf , .docx\" } onChange={this.onChange} />\n        <Button type=\"submit\" variant=\"dark\">Upload</Button>\n      </form>\n      </div>\n       \n       <div className=\"monbloc2\">\n       <form onSubmit={this.submitsearch}>\n       <h1>Search CV</h1>\n       <label>\n       <input type=\"text\" value={this.state.valuesSearch} onChange={handleChangeSearch} name=\"name\" />\n      </label>\n      <Button type=\"submit\" variant=\"dark\" >Search</Button>\n      </form>\n       </div>\n      \n      </div>\n   )\n  }\n \n\n\n}\n\nexport default SubmitComponent;\n"]},"metadata":{},"sourceType":"module"}