{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/kiki/myfrontend/src/SubmitComponent.js\";\nimport react, { Component } from 'react';\nimport axios, { post } from 'axios';\nimport ReactFileReader from 'react-file-reader';\nimport Button from 'react-bootstrap/Button';\nimport './App.css';\nimport Affichage from './Affichage';\n\nclass SubmitComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null,\n      cvs: [],\n      b: true,\n      nbcvs: 0,\n      current: \"\"\n    };\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.fileUpload = this.fileUpload.bind(this);\n    this.submitsearch = this.submitsearch.bind(this);\n  }\n\n  submitsearch() {\n    axios.get(\"http://localhost:8080/api/CV/search?mots=\" + this.refs.txt.value.split(\" \")).then(res => {\n      res.data.map(c => {\n        this.addElement(c);\n      });\n      this.setState({\n        current: \"search\"\n      });\n    });\n    this.setState({\n      b: !this.state.b\n    });\n  }\n\n  addElement(c) {\n    this.state.cvs.push(c); // this.setState({nbcvs: this.state.nbcvs+1});\n  }\n\n  onFormSubmit(e) {\n    e.preventDefault();\n    this.fileUpload(this.state.file).then(response => {\n      console.log(response);\n      alert(\"cv envoyer avec succes\");\n    });\n  }\n\n  clear(e) {\n    this.setState({\n      current: \"\"\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      file: e.target.files[0]\n    });\n  }\n\n  fileUpload(file) {\n    const url = 'http://localhost:8080/api/CV/add';\n    const formData = new FormData();\n    formData.append('file', file);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    return post(url, formData, config);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcom TO Our CVTh\\xE8que\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"monbloc\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.onFormSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Upload Your CV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \".pdf , .docx\",\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"dark\",\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"monbloc2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Search CV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            ref: \"txt\",\n            name: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \" Search \",\n          class: \"searchsubmit\",\n          onClick: this.submitsearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"clear\",\n          value: \" Clear \",\n          class: \"searchsubmit\",\n          onClick: this.clear\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 8\n      }, this), this.state.current === \"search\" ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"La liste des CVs qui match sont : \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 84\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 46\n        }, this), this.state.cvs.map(c => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"ID : \", c[\"id\"], \"  \", c[\"nom\"], \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 127\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 123\n        }, this)), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 42\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Vous avez pas effectuer de recherche\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 64\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SubmitComponent;","map":{"version":3,"sources":["/home/kiki/myfrontend/src/SubmitComponent.js"],"names":["react","Component","axios","post","ReactFileReader","Button","Affichage","SubmitComponent","constructor","props","state","file","cvs","b","nbcvs","current","onFormSubmit","bind","onChange","fileUpload","submitsearch","get","refs","txt","value","split","then","res","data","map","c","addElement","setState","push","e","preventDefault","response","console","log","alert","clear","target","files","url","formData","FormData","append","config","headers","render"],"mappings":"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","sourcesContent":["import react, { Component } from 'react';\nimport axios, { post } from 'axios';\nimport ReactFileReader from 'react-file-reader';\nimport Button from 'react-bootstrap/Button';\nimport './App.css';\nimport Affichage from './Affichage';\nclass SubmitComponent extends Component{\n\n  \n  constructor(props) {\n    super(props);\n    this.state ={\n      file:null,\n      cvs:[],\n      b:true,\n      nbcvs : 0,\n      current: \"\"\n    }\n    this.onFormSubmit = this.onFormSubmit.bind(this)\n    this.onChange = this.onChange.bind(this)\n    this.fileUpload = this.fileUpload.bind(this)\n    this.submitsearch=this.submitsearch.bind(this);\n  }\n\n  submitsearch (){\n    \n    axios.get(\"http://localhost:8080/api/CV/search?mots=\"+this.refs.txt.value.split(\" \")).then((res)=>{\n      res.data.map( (c)=> {\n        this.addElement(c);\n      })\n      this.setState({current:\"search\"})\n    });\n    this.setState({b:!this.state.b})\n  }\n\n  addElement(c){\n    this.state.cvs.push(c);\n    // this.setState({nbcvs: this.state.nbcvs+1});\n\n  }\n  onFormSubmit(e){\n    e.preventDefault()\n    this.fileUpload(this.state.file).then((response)=>{\n      console.log(response) \n      alert(\"cv envoyer avec succes\");\n      \n    })\n  }\n  clear(e){\n    this.setState({current : \"\"})\n  }\n  onChange(e) {\n    this.setState({file:e.target.files[0]})\n  }\n\n  fileUpload(file){\n    const url = 'http://localhost:8080/api/CV/add';\n    const formData = new FormData();\n    formData.append('file',file)\n    const config = {\n        headers: {\n            'content-type': 'multipart/form-data'\n        }\n    }\n    return  post(url, formData,config)\n  }\n\n  render() {\n    return (\n      <div> \n       <h1>Welcom TO Our CVThèque</h1>\n       <div className=\"monbloc\"> \n      <form onSubmit={this.onFormSubmit}>\n        <h1>Upload Your CV</h1>\n        <input type=\"file\" accept={\".pdf , .docx\" } onChange={this.onChange} />\n        <Button type=\"submit\" variant=\"dark\">Upload</Button>\n      </form>\n      </div>\n       \n       <div className=\"monbloc2\">\n     \n       <h1>Search CV</h1>\n       <label>\n       <input type=\"text\"  ref=\"txt\" name=\"name\" />\n      </label>\n      <input  type=\"submit\"\n                                value=\" Search \"\n                                class=\"searchsubmit\"\n                                onClick={this.submitsearch}/>\n      <input  type=\"clear\"\n                                value=\" Clear \"\n                                class=\"searchsubmit\"\n                                onClick={this.clear}/>\n       </div>\n      \n       \n        { \n        this.state.current===\"search\" ?  <ul><h3>La liste des CVs qui match sont : <br/> </h3>{this.state.cvs.map( (c) => <li><div>ID : {c[\"id\"]}  {c[\"nom\"]} </div></li>\n                                                     )} </ul>: <div>\n                                                       \n                                                      Vous avez pas effectuer de recherche\n                                                      \n                                                     </div>\n          }\n\n        \n\n      </div>\n   )\n  }\n \n\n\n}\n\nexport default SubmitComponent;\n\n\n"]},"metadata":{},"sourceType":"module"}