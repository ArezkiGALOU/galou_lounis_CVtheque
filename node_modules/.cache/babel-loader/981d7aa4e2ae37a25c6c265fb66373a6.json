{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/kiki/myfrontend/src/SubmitComponent.js\";\nimport react, { Component } from 'react';\nimport axios, { post } from 'axios';\nimport ReactFileReader from 'react-file-reader';\nimport Button from 'react-bootstrap/Button';\nimport './App.css';\nimport Affichage from './Affichage';\n\nclass SubmitComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null,\n      cvs: [],\n      b: true,\n      nbcvs: 0,\n      current: \"\"\n    };\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.fileUpload = this.fileUpload.bind(this);\n    this.submitsearch = this.submitsearch.bind(this);\n  }\n\n  submitsearch() {\n    axios.get(\"http://localhost:8080/api/CV/search?mots=\" + this.refs.txt.value).then(res => {\n      console.log(\"cccccccccccccccc\");\n      res.data.map(c => {\n        this.addElement(c);\n        console.log(c);\n      });\n      this.setState({\n        current: \"search\"\n      });\n    });\n    this.setState({\n      b: !this.state.b\n    });\n  }\n\n  addElement(c) {\n    this.state.cvs.push(c); // this.setState({nbcvs: this.state.nbcvs+1});\n  }\n\n  onFormSubmit(e) {\n    e.preventDefault();\n    this.fileUpload(this.state.file).then(response => {\n      console.log(response);\n      alert(\"cv envoyer avec succes\");\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      file: e.target.files[0]\n    });\n  }\n\n  fileUpload(file) {\n    const url = 'http://localhost:8080/api/CV/add';\n    const formData = new FormData();\n    formData.append('file', file);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    return post(url, formData, config);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcom TO Our CVTh\\xE8que\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"monbloc\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.onFormSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Upload Your CV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \".pdf , .docx\",\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"dark\",\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"monbloc2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Search CV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            ref: \"txt\",\n            name: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \" Search \",\n          class: \"searchsubmit\",\n          onClick: this.submitsearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 8\n      }, this), this.state.current === \"search\" ? this.state.cvs.map(c => {\n        /*#__PURE__*/\n        _jsxDEV(\"h1\", {\n          children: c[\"nom\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 73\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"cc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 58\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SubmitComponent;","map":{"version":3,"sources":["/home/kiki/myfrontend/src/SubmitComponent.js"],"names":["react","Component","axios","post","ReactFileReader","Button","Affichage","SubmitComponent","constructor","props","state","file","cvs","b","nbcvs","current","onFormSubmit","bind","onChange","fileUpload","submitsearch","get","refs","txt","value","then","res","console","log","data","map","c","addElement","setState","push","e","preventDefault","response","alert","target","files","url","formData","FormData","append","config","headers","render"],"mappings":"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","sourcesContent":["import react, { Component } from 'react';\nimport axios, { post } from 'axios';\nimport ReactFileReader from 'react-file-reader';\nimport Button from 'react-bootstrap/Button';\nimport './App.css';\nimport Affichage from './Affichage';\nclass SubmitComponent extends Component{\n\n  \n  constructor(props) {\n    super(props);\n    this.state ={\n      file:null,\n      cvs:[],\n      b:true,\n      nbcvs : 0,\n      current: \"\"\n    }\n    this.onFormSubmit = this.onFormSubmit.bind(this)\n    this.onChange = this.onChange.bind(this)\n    this.fileUpload = this.fileUpload.bind(this)\n    this.submitsearch=this.submitsearch.bind(this);\n  }\n\n  submitsearch (){\n    \n    axios.get(\"http://localhost:8080/api/CV/search?mots=\"+this.refs.txt.value).then((res)=>{\n      console.log(\"cccccccccccccccc\");\n      res.data.map( (c)=> {\n        this.addElement(c);\n        console.log(c)\n      })\n      this.setState({current:\"search\"})\n    });\n    this.setState({b:!this.state.b})\n  }\n\n  addElement(c){\n    this.state.cvs.push(c);\n    // this.setState({nbcvs: this.state.nbcvs+1});\n\n  }\n  onFormSubmit(e){\n    e.preventDefault()\n    this.fileUpload(this.state.file).then((response)=>{\n      console.log(response) \n      alert(\"cv envoyer avec succes\");\n      \n    })\n  }\n\n  onChange(e) {\n    this.setState({file:e.target.files[0]})\n  }\n\n  fileUpload(file){\n    const url = 'http://localhost:8080/api/CV/add';\n    const formData = new FormData();\n    formData.append('file',file)\n    const config = {\n        headers: {\n            'content-type': 'multipart/form-data'\n        }\n    }\n    return  post(url, formData,config)\n  }\n\n  render() {\n    return (\n      <div> \n       <h1>Welcom TO Our CVThèque</h1>\n       <div className=\"monbloc\"> \n      <form onSubmit={this.onFormSubmit}>\n        <h1>Upload Your CV</h1>\n        <input type=\"file\" accept={\".pdf , .docx\" } onChange={this.onChange} />\n        <Button type=\"submit\" variant=\"dark\">Upload</Button>\n      </form>\n      </div>\n       \n       <div className=\"monbloc2\">\n     \n       <h1>Search CV</h1>\n       <label>\n       <input type=\"text\"  ref=\"txt\" name=\"name\" />\n      </label>\n      <input  type=\"submit\"\n                                value=\" Search \"\n                                class=\"searchsubmit\"\n                                onClick={this.submitsearch}/>\n\n       </div>\n      \n        { this.state.current===\"search\" ?  this.state.cvs.map( (c) => { <h1 >{c[\"nom\"]}</h1>\n                                                              }\n                                                     ) : <div>\n                                                       cc\n                                                     </div>\n          }\n\n        \n\n      </div>\n   )\n  }\n \n\n\n}\n\nexport default SubmitComponent;\n\n\n"]},"metadata":{},"sourceType":"module"}