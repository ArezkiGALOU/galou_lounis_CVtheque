{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/kiki/myfrontend/src/SubmitComponent.js\";\nimport react, { Component } from 'react';\nimport axios, { post } from 'axios';\nimport ReactFileReader from 'react-file-reader';\nimport Button from 'react-bootstrap/Button';\nimport './App.css';\n\nclass SubmitComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null,\n      cvs: []\n    };\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.fileUpload = this.fileUpload.bind(this);\n    this.submitsearch = this.submitsearch.bind(this);\n  }\n\n  submitsearch() {\n    axios.get(\"http://localhost:8080/api/CV/search?mots=\" + this.refs.txt.value).then(res => {\n      console.log(\"cccccccccccccccc\");\n      this.setState({\n        cvs: res.data\n      });\n      console.log(this.state.cvs[0]); // this.forceUpdate();\n    });\n  }\n\n  onFormSubmit(e) {\n    e.preventDefault();\n    this.fileUpload(this.state.file).then(response => {\n      console.log(response);\n      alert(\"cv envoyer avec succes\");\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      file: e.target.files[0]\n    });\n  }\n\n  fileUpload(file) {\n    const url = 'http://localhost:8080/api/CV/add';\n    const formData = new FormData();\n    formData.append('file', file);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    return post(url, formData, config);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcom TO Our CVTh\\xE8que\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"monbloc\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.onFormSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Upload Your CV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \".pdf , .docx\",\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"dark\",\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"monbloc2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Search CV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            ref: \"txt\",\n            name: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \" Search \",\n          class: \"searchsubmit\",\n          onClick: this.submitsearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Affichage, {\n        cvs: this.state.cvs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SubmitComponent;\nimport Affichage from './Affichage';","map":{"version":3,"sources":["/home/kiki/myfrontend/src/SubmitComponent.js"],"names":["react","Component","axios","post","ReactFileReader","Button","SubmitComponent","constructor","props","state","file","cvs","onFormSubmit","bind","onChange","fileUpload","submitsearch","get","refs","txt","value","then","res","console","log","setState","data","e","preventDefault","response","alert","target","files","url","formData","FormData","append","config","headers","render","Affichage"],"mappings":"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","sourcesContent":["import react, { Component } from 'react';\nimport axios, { post } from 'axios';\nimport ReactFileReader from 'react-file-reader';\nimport Button from 'react-bootstrap/Button';\nimport './App.css';\n\nclass SubmitComponent extends Component{\n\n  \n  constructor(props) {\n    super(props);\n    this.state ={\n      file:null,\n      cvs:[]\n    }\n    this.onFormSubmit = this.onFormSubmit.bind(this)\n    this.onChange = this.onChange.bind(this)\n    this.fileUpload = this.fileUpload.bind(this)\n    this.submitsearch=this.submitsearch.bind(this);\n  }\n\n  submitsearch (){\n    \n    axios.get(\"http://localhost:8080/api/CV/search?mots=\"+this.refs.txt.value).then((res)=>{\n      console.log(\"cccccccccccccccc\");\n        this.setState({cvs : res.data});\n        console.log(this.state.cvs[0]);\n        // this.forceUpdate();\n      \n    });\n  }\n  onFormSubmit(e){\n    e.preventDefault()\n    this.fileUpload(this.state.file).then((response)=>{\n      console.log(response) \n      alert(\"cv envoyer avec succes\");\n      \n    })\n  }\n\n  onChange(e) {\n    this.setState({file:e.target.files[0]})\n  }\n\n  fileUpload(file){\n    const url = 'http://localhost:8080/api/CV/add';\n    const formData = new FormData();\n    formData.append('file',file)\n    const config = {\n        headers: {\n            'content-type': 'multipart/form-data'\n        }\n    }\n    return  post(url, formData,config)\n  }\n\n  render() {\n    return (\n      <div> \n       <h1>Welcom TO Our CVTh√®que</h1>\n       <div className=\"monbloc\"> \n      <form onSubmit={this.onFormSubmit}>\n        <h1>Upload Your CV</h1>\n        <input type=\"file\" accept={\".pdf , .docx\" } onChange={this.onChange} />\n        <Button type=\"submit\" variant=\"dark\">Upload</Button>\n      </form>\n      </div>\n       \n       <div className=\"monbloc2\">\n     \n       <h1>Search CV</h1>\n       <label>\n       <input type=\"text\"  ref=\"txt\" name=\"name\" />\n      </label>\n      <input  type=\"submit\"\n                                value=\" Search \"\n                                class=\"searchsubmit\"\n                                onClick={this.submitsearch}/>\n\n       </div>\n      <Affichage cvs={this.state.cvs}/>\n      </div>\n   )\n  }\n \n\n\n}\n\nexport default SubmitComponent;\nimport Affichage from './Affichage';\n\n"]},"metadata":{},"sourceType":"module"}